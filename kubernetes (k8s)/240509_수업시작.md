![](../image/Pasted%20image%2020240509091750.png)

![](../image/Pasted%20image%2020240509092111.png)

![](../image/Pasted%20image%2020240509092703.png)

## ReplicaSet
![](../image/Pasted%20image%2020240509092801.png)

📌pod에 label이 붙어서 관리대상을 특정한다. label은 pod를 구분하는 tag 같은 역할을 한다. replicas key 에 입력한 값을 기준으로, pod 수가 유지되게 관리한다.

📌template에는 replicaset에서 관리할 pod에 대한 설정이 되어 있다.

![](../image/Pasted%20image%2020240509094008.png)

📌kubectl apply -f 2.ReplicaSet.yaml
kubectl get pod

![](../image/Pasted%20image%2020240509094303.png)

![](../image/Pasted%20image%2020240509094353.png)

📌kubectl get rs

![](../image/Pasted%20image%2020240509094802.png)

![](../image/Pasted%20image%2020240509094852.png)

![](../image/Pasted%20image%2020240509094942.png)

📌rs-obj-pwnpj 이름의 새로운 pod를 만들었다.


## Deployment

📌가장 많이 사용한다.

![](../image/Pasted%20image%2020240509100319.png)

![](../image/Pasted%20image%2020240509100717.png)

 ![](../image/Pasted%20image%2020240509101235.png)

![](../image/Pasted%20image%2020240509101251.png)

![](../image/Pasted%20image%2020240509101309.png)

📌이미지를 새로운 버전으로 upgrade 했다.  -> 이전 replicaset의 desired / current / ready 은 제거하지 않고(rollback 할 수도 있으니까) 새로운 replicaset의 내용대로 작업한다.

![](../image/Pasted%20image%2020240509101911.png)

![](../image/Pasted%20image%2020240509101935.png)

📌kubectl rollout undo deploy
명령어를 통해 이전 버전 replica인 ...4596 replicaset으로 이동했다.

![](../image/Pasted%20image%2020240509103438.png)

📌롤링 업데이트 방법.

![](../image/Pasted%20image%2020240509103555.png)

📌블루/그린 방법.

![](../image/Pasted%20image%2020240509103617.png)

📌카나리 방법.


## service
![](../image/Pasted%20image%2020240509103725.png)

![](../image/Pasted%20image%2020240509104227.png)

📌container -> 일회성. 