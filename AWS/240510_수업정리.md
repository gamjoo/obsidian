ğŸ“Œì•„ë˜ì˜Â í´ë”Â ë§Œë“¤ì–´Â ì£¼ì„¸ìš”  
  
mkdirÂ -pÂ /home/ubuntu/download/upload  
mkdirÂ /home/ubuntu/oracle  
lsÂ -alÂ /home/ubuntu/download/upload  
lsÂ -alÂ /home/ubuntu/oracle  
  
  
1.Â jarÂ ë‹¤ì‹œÂ ë§Œë“¤ê¸°  
Â Â Â cleanÂ compileÂ package  
Â Â Â pom.xmlÂ ì—†ì• ê¸°  
Â Â Â SkipÂ testsÂ ì²´í¬ë°•ìŠ¤Â ì œê±°  
  
  
2.Â DockerfileÂ ë§Œë“¤ê¸°Â &&Â ì´ë¯¸ì§€Â ë§Œë“¤ê¸°
(ë„ì»¤ì•„ì´ë””/security_aws:01)  
Â Â Â (1)Â í”„ë¡œì íŠ¸Â í´ë”ì—Â ì´ë¯¸ì§€ê°€Â ìˆëŠ”ì§€Â í™•ì¸  
Â Â Â (2)Â DockerfileÂ   
Â Â Â Â Â Â Â Â FROMÂ openjdk:17-ea-11-jdk-slim  
  Â Â Â Â Â Â COPYÂ ./target/myhome4-0.0.1-SNAPSHOT.jarÂ /security.jarÂ   
Â Â Â Â Â Â Â Â COPYÂ ./icecream.pngÂ Â ./icecream.png
Â Â Â Â Â Â Â Â RUNÂ mkdirÂ ./imageÂ &&Â mvÂ ./icecream.pngÂ ./image/icecream.png  
Â Â Â Â Â Â Â Â ENTRYPOINTÂ \["java",Â "-jar",Â "security.jar"]
Â Â Â Â (3)Â dockerÂ imageÂ buildÂ -tÂ ë„ì»¤ì•„ì´ë””/security_aws:01Â Â Â Â -fÂ Dockerfile_awsÂ .  
  
3.Â ë§Œë“ Â ì´ë¯¸ì§€Â ë„ì»¤Â í—ˆë¸Œì—Â ì˜¬ë¦¬ê¸°  
Â Â Â dockerÂ imageÂ pushÂ ë„ì»¤ì•„ì´ë””/security_aws:01  
  
4.Â docker-compose.yamlÂ íŒŒì¼Â ì™„ì„±  
Â Â Â sudoÂ docker-composeÂ upÂ -d  
Â Â Â sudoÂ docker-composeÂ downÂ --rmiÂ all

![](../image/Pasted%20image%2020240510103137.png)


![](../image/Pasted%20image%2020240510101350.png)

ğŸ“Œimage í´ë”ëŠ” ì–´ë””ì— ìˆëŠ” ê±¸ê¹Œ? icecream.png ëŠ”??


# Jenkins
![](../image/Pasted%20image%2020240510120256.png)

ğŸ“ŒJenkins ì„œë²„ ë”°ë¡œ / ë°°í¬ ì„œë²„ ë”°ë¡œ ë§Œë“ ë‹¤.

ğŸ“ŒSTSì—ì„œ ë³€ê²½í•œ ë‚´ìš©ì„ githubì— ì˜¬ë¦°ë‹¤.

ğŸ“Œhook ì´ë²¤íŠ¸ë¥¼ webì— ë“±ë¡í•˜ì—¬ Jenkinsê°€ ì¸ì‹í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

## github repository ìƒì„±
## toekn ì¬ë°œê¸‰

## STSì—ì„œ web2024 repo clone
## ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ ìƒì„±
![](../image/Pasted%20image%2020240510122549.png)

ğŸ“Œsrc í´ë” / pom.xml / icecream.png / Dockerfile ë³µì‚¬í•œ í›„ github repositoryì— share / commit / push í•œë‹¤.


## ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•˜ë‚˜ ë§Œë“ ë‹¤
ğŸ“Œì¸ìŠ¤í„´ìŠ¤ ìœ í˜• t2 micro -> í”„ë¦¬í‹°ì–´ë¡œ ì‚¬ìš© 
ğŸ“Œí‚¤ í˜ì–´ - CICD
ğŸ“ŒìŠ¤í† ë¦¬ì§€ êµ¬ì„± 30GiB
ğŸ“ŒjenkinsëŠ” 8080 í¬íŠ¸ë¥¼ ì‚¬ìš© í•œë‹¤. -> ë³´ì•ˆ ê·¸ë£¹ ì¶”ê°€í•´ì•¼ í•œë‹¤

![](../image/Pasted%20image%2020240510141049.png)

![](../image/Pasted%20image%2020240510141113.png)

ğŸ“Œí¬íŠ¸ ë²”ìœ„ë¥¼ 8080, ì†ŒìŠ¤ì— Anywhere IPv4ë¡œ ì„¤ì •í•œë‹¤.


## putty ì ‘ì†
ğŸ“Œputtyë¡œÂ ì ‘ì†Â í•©ë‹ˆë‹¤.  
Â Â Â Â (1)Â CategoryÂ :Â SessionÂ Â   
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â HostÂ NameÂ :Â EC2Â í¼ë¸”ë¦­Â ì£¼ì†ŒÂ ì…ë ¥  
Â Â Â Â (2)Â CategoryÂ :Â ConnectionÂ ->Â SSHÂ ->Â AuthÂ ->Â CredentialsÂ ->Â Â ì•ì—ì„œÂ EC2Â ë§Œë“¤ë©´ì„œÂ ìƒì„±í•œÂ í‚¤í˜ì–´Â ppkë¥¼Â ì„ íƒí•©ë‹ˆë‹¤.Â Â Â Â Â Â Â Â   
Â Â Â Â (3)Â CategoryÂ :Â SessionÂ   
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â SavedÂ SessionsÂ :Â jenkinsÂ Â ->Â Save  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â OpenÂ í´ë¦­  
Â Â Â Â (4)Â AcceptÂ í´ë¦­


## imageë¥¼ í™œìš©í•˜ì—¬ jenkins ì“°ê¸°
ğŸ“Œë„ì»¤ ì„¤ì¹˜(https://jongsky.tistory.com/49) ë„ì»¤ ì»´í¬ì¦ˆëŠ” ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

ğŸ“Œ(https://www.jenkins.io/doc/)
Â JenkinsëŠ”Â ì†Œí”„íŠ¸ì›¨ì–´Â êµ¬ì¶•,Â í…ŒìŠ¤íŠ¸,Â ì œê³µÂ ë˜ëŠ”Â ë°°í¬ì™€Â ê´€ë ¨ëœÂ ëª¨ë“ Â ì¢…ë¥˜ì˜Â ì‘ì—…ì„Â ìë™í™”í•˜ëŠ”Â ë°Â ì‚¬ìš©í• Â ìˆ˜Â ìˆëŠ”Â ë…ë¦½í˜•Â ì˜¤í”ˆÂ ì†ŒìŠ¤Â ìë™í™”Â ì„œë²„ì…ë‹ˆë‹¤. ìë°”ë¡œÂ ì œì‘ëœÂ CI(ContinuousÂ Integration)Â Â íˆ´ì…ë‹ˆë‹¤.
- íŒŒì´í”„ë¼ì¸ ì´ìš©í•´ì„œ CD ê¹Œì§€ ê°™ì´ í•´ë³¸ë‹¤!


![](../image/Pasted%20image%2020240510143550.png)

ğŸ“ŒsudoÂ dockerÂ runÂ -dÂ -pÂ 8080:8080Â --nameÂ jenkinsÂ -vÂ /home/jenkins:/var/jenkins_homeÂ -vÂ /var/run/docker.sock:/var/run/docker.sockÂ -uÂ rootÂ jenkins/jenkins:lts


ğŸ“Œì²«ë²ˆì§¸ ì„¤ì¹˜í•œ ë„ì»¤ëŠ” AWS ê°€ìƒ ì„œë²„ì— ìˆë‹¤.
`JENKINS ì»¨í…Œì´ë„ˆ ì•ˆì—ë„ dockerê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.`
- sudoÂ dockerÂ execÂ jenkinsÂ aptÂ update
- sudoÂ dockerÂ execÂ jenkinsÂ aptÂ installÂ -yÂ docker.io