# sample3
## @Resource
![](../image/Pasted%20image%2020240417090756.png)


# sample4
## context:component-scan
![](../image/Pasted%20image%2020240417091858.png)
★\<context:component-scan/> 태그를 사용하여 특정 패키지 안의 클래스들을 스캔하고 annotation을 확인 후 bean을 생성한다. @Component 등이 붙은 bean 생성 표시자(annotation)가 ㄷ있는 클래스를 객체로 생성한다.
★\<context:component-scan/>를 선언하면 자동으로 \<context:annotation-config/> 태그의 기능이 활성화 되므로 \<context:annotation-config/> 태그를 제거한다.
★\<context:component-scan base-package="com.naver.myhome.sample4"/>

## @Component
### MessageBeanEn.java
![](../image/Pasted%20image%2020240417092415.png)
★5 : @Component("m")

### MessageBeanKo.java
![](../image/Pasted%20image%2020240417092616.png)
★5 : @Component("m1")


### MesageMultiple.java
![](../image/Pasted%20image%2020240417092709.png)
★@Resource(name="m")

### HelloApp_Component.java
![](../image/Pasted%20image%2020240417092931.png)
★@Component 사용해보기
- spring 컨테이너가 component-scan에 의해서 자동으로 bean 등록할 대상으로 지정된다.
- 이 때 bean의 이름을 지어줄 수 있는데 방법은 @Component("bean의 이름")하면 된다.
- 이름을 사용하지 않으면 지정한 클래스의 이름에서 첫글자를 소문자로 바꾼 이름으로 bean이 생성된다.
  - 예) @Component
  -       public class MessageMultiple { }의 경우
  -       MessageMultiple bean = (MessageMultiple) ctx.getBean("messageMultiple")

# sample5_1
## @Value
![](../image/Pasted%20image%2020240417094232.png)

### ReadMain.java
![](../image/Pasted%20image%2020240417094548.png)


# sample5_2
## data.properties
![](../image/Pasted%20image%2020240417100543.png)

## 프로퍼티 파일을 이용해서 값 주입
![](../image/Pasted%20image%2020240417100754.png)
★.properties 파일을 이용해서 값을 주입하는 방법
- (1)context 네임스페이스의 property-placeholder 태그를 추가하고 앞에서 만든 프로퍼티 파일 위치를 지정한다
- (2)@Value를 이용해서 값을 가져온다.
    - @Value의 주요 용도 : 외부 설정 파일에서 값을 가져와서 bean 필드에 주입할 수 있다.
    - 예) ①data.properties -> path=out200.txt
    -       ②자바파일에서 @Value와 "${프로퍼티 키}"로 접근
    -          @Value("${path}")
    -          private String filePath
![](../image/Pasted%20image%2020240417101517.png)
![](../image/Pasted%20image%2020240417101733.png)


# sample6
## data.properties
![](../image/Pasted%20image%2020240417102624.png)
★properties 파일에 입력한 한글은 유니코드로 자동 변환.


## FileOutputter.java
![](../image/Pasted%20image%2020240417110731.png)


## MessageBeanImpl.java
![](../image/Pasted%20image%2020240417111121.png)
★11~15 : bean 만들면서 @Value로 설정한 값이 자동으로 주입된다. (setter가 필요없음!)
★19~23 : 생성자에 매개변수를 입력하는 경우에는 객체를 주입하는 방법을 보통 사용한다. @Component 어노테이션을 사용하여 객체를 자동으로 생성하면 생성자에 다른 값을 입력할 수가 없기 때문에.. 


# Spring MVC
![](../image/Pasted%20image%2020240417114527.png)
★configuration : 구성 / 설정
★@SpringBootApplication
- (1)자동 설정을 담당하는 annotation으로 스프링 부트의 자동 설정, 스프링 bean 읽기와 생성이 모두 자동으로 설정된다.
- (2)SpringBootApplications annotation이 포함하고 있는 3가지 annotation은 다음과 같다
  - ①@SpringBootConfiguration
    - Spring Boot 애플리케이션의 @Configuration을 제공함을 나타낸다. 즉, 클래스가 Spring Boot의 구성 클래스임을 나타낸다.
  - ②@ComponentScan
    - @SpringBootApplication이 있는 폴더를 기준으로 하위 폴더 모두를 스캔해서 bean으로 등록한다.
    - 예) @Component, @Configuration, @Repository, @Service, @Controller, @RestController .. 위 annotation을 인식하게 하기 위해서는 @SpringBootApplication이 있는 패키지부터 하위 패키지에 작성하면 된다.
  - ③@EnableAutoConfiguration
    - @ComponentScan으로 bean이 등록된 이후, @EnableAutoConfiguration를 통해 한 번 더 스캔되는데 그 때 등록되는 bean들을 설정하기 위해 사용되는 다양한 bean들이 등록된다.
    - 참고) Maven Dependencies 선택 -> spring-boot-autoconfigure-3.1.10.jar -> META-INF/spring/spring.factories -> 이곳에 설정 관련된 정보들이 key와 value 형태로 저장되어 있다. 이 파일을 참조하여 여러 가지 bean을 생성한다.
![](../image/Pasted%20image%2020240417121315.png)
★port 8080은 oracle에서 사용 중
![](../image/Pasted%20image%2020240417121430.png)
★정적인(.css/.js) 등은 static 폴더에 들어간다.
★templates 폴더는 Thymleaf 사용과 관련있다.
![](../image/Pasted%20image%2020240417121517.png)
★server.port=8088로 port를 변경하면 에러 발생하지 않는다.
![](../image/Pasted%20image%2020240417121827.png)

## @RestController
![](../image/Pasted%20image%2020240417123004.png)
★@RestController : response.getWriter( ) 역할과 동일하다.




## Dependency에 devtools 적용하여 실행
![](../image/Image20240417123758.png)
![](../image/Pasted%20image%2020240417124256.png)
★JSP 파일을 사용하기 위해 2가지 작업을 해줘야 한다....
### JSP 파일 사용하기 (1)
![](../image/Pasted%20image%2020240417124431.png)


### JSP 파일 사용하기 (2)
![](../image/Pasted%20image%2020240417124725.png)
![](../image/Pasted%20image%2020240417124838.png)
★이렇게 사용할 수 있는 컨트롤러를 만들어야 한다.


## 컨트롤러 작업
![](../image/Pasted%20image%2020240417124932.png)
★스프링은 기본적으로 forwarding 방식이다.
![](../image/Pasted%20image%2020240417141331.png)


## CSS 경로확인
![](../image/Pasted%20image%2020240417141355.png)
![](../image/Pasted%20image%2020240417141659.png)
★css/js파일은 webapp 하단에 넣는 것이 아니라 src/main/resources -> static 폴더 안에 넣어서 관리한다.


## annotation 연습
![](../image/Pasted%20image%2020240417142849.png)
### LoginController.java
![](../image/Pasted%20image%2020240417143204.png)
- @Controller 어노테이션을 사용한 컨트롤러 클래스를 이용해서 특정 요청 URL을 처리한다.
- @Component를 상속한 @Controller는 @Controller가 붙은 클래스의 객체를 메모리에 생성하는 기능을 제공한다
- 단순히 객체를 생성하는 것에 그치지 않고 DispatcherServlet이 인식하는 Controller객체로 만들어 준다.
- 스프링 컨테이너는 @Controller가 선언된 객체를 자동으로 Controller 객체로 인식한다.

![](../image/Pasted%20image%2020240417144040.png)
- @RequestMapping 어노테이션을 사용해서 메소드에 처리할 요청 경로를 지정한다. value="요청 경로", method는 전송 방식을 지정한다.
- @RequestMapping 뒤에는 반드시 메소드가 나와야 하고 자동 호출 된다.
- 메소드 이름은 다른 메소드들과 중복되지 않게만 작성한다.
- post방식과 get방식을 모두 적용할 경우에는 method={RequestMethod.POST, RequestMethod.GET} 또는 생략한다.

![](../image/Pasted%20image%2020240417144451.png)
![](../image/Pasted%20image%2020240417144612.png)
![](../image/Pasted%20image%2020240417144914.png)
★dispatcher에 의해 요청 / 처리가 이뤄진다.

### loginForm.jsp
![](../image/Pasted%20image%2020240417150300.png)


### ModelAndView 객체 활용
![](../image/Pasted%20image%2020240417152330.png)
★ModelAndView 이용해서 데이터 전달 방법
- 스프링에서 Model 객체는 컨트롤러에서 생성된 데이터를 담아서 jsp 페이지에 전달하는 역할을 한다.
- 서블릿에서 request.
![](../image/Pasted%20image%2020240417153224.png)


### BbsBean.java
![](../image/Pasted%20image%2020240417153627.png)



### list.jsp
![](../image/Pasted%20image%2020240417153919.png)
![](../image/Pasted%20image%2020240417154353.png)


### Model 객체 활용
![](../image/Pasted%20image%2020240417160715.png)
#### LoginController2.java
![](../image/Pasted%20image%2020240417161311.png)
![](../image/Pasted%20image%2020240417162241.png)
★일치시켜주면,, request.getParmeter( ) 하지 않아도 된다..
![](../image/Pasted%20image%2020240417162318.png)
![](../image/Pasted%20image%2020240417162416.png)


### @ModelAttribute
![](../image/Pasted%20image%2020240417163734.png)


## 파라미터 (command 객체에 담을 수 없는 정보 전달)
![](../image/Pasted%20image%2020240417164648.png)
![](../image/Pasted%20image%2020240417165054.png)

### ParamController2_int.java
![](../image/Pasted%20image%2020240417170503.png)
![](../image/Pasted%20image%2020240417172754.png)
![](../image/Pasted%20image%2020240417173736.png)

#### 파라미터가 항상 넘어올지 확신할 수 없는 경우
![](../image/Pasted%20image%2020240417174103.png)

#### 파라미터가 항상 넘어오는 경우
![](../image/Pasted%20image%2020240417174507.png)

