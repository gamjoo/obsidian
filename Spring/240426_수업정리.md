# Security
![](../image/Pasted%20image%2020240425171208.png)
ğŸ“Œdependency ì¶”ê°€.
![](../image/Pasted%20image%2020240425171402.png)
ğŸ“Œì´ëŸ° ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
![](../image/Pasted%20image%2020240425171436.png)
ğŸ“Œpropertiesì— ì´ê²ƒë§Œ ì¶”ê°€í•œë‹¤.
![](../image/Pasted%20image%2020240425171634.png)
ğŸ“Œcontext ê²½ë¡œë¥¼ ì…ë ¥í•˜ë©´.. ë§µí•‘í•˜ì§€ë„ ì•Šì€ loginí˜ì´ì§€ë¡œ ì´ë™í•œë‹¤..
![](../image/Pasted%20image%2020240425171913.png)
ğŸ“Œì´ˆê¸°ì— ì´ë ‡ê²Œ ì…ë ¥í•˜ë©´ ì ‘ì†ì´ ëœë‹¤.
- id : user 
- password : ìŠ¤í”„ë§ë¶€íŠ¸ ì‹¤í–‰í•˜ë©´, `Using generated security password: 18533b2f-ec9b-42de-a660-978efee9a6bc` ì´ëŸ° ì‹ìœ¼ë¡œ ì•Œë ¤ì¤€ë‹¤. 
![](../image/Pasted%20image%2020240425171944.png)
ğŸ“Œì´ëŸ° í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.
![](../image/Pasted%20image%2020240425171958.png)
ğŸ“Œconfig í•´ì¤˜ì•¼ ì˜ë„í•œ login í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.


## ì‹œíë¦¬í‹° ì´ë¡  ìƒì‹
![](../image/Pasted%20image%2020240425172526.png)
![](../image/Pasted%20image%2020240425172858.png)
ğŸ“Œadminì´ ì•„ë‹Œë°ë„ ,, ì ‘ì† ì£¼ì†Œë¥¼ ì•Œê²Œë˜ë©´ admin ë³¼ ìˆ˜ ìˆê²Œ ì„¤ê³„ëœ í˜ì´ì§€ë¥¼ ë³¼ ìˆ˜ ìˆê²Œ ëœë‹¤... ì´ìƒí•˜ë‹¤!! (ì¸ê°€ì™€ ê´€ë ¨ëœ ì´ìŠˆ)
ğŸ“Œ403 error : forbidden.
![](../image/Pasted%20image%2020240425173559.png)
![](../image/Pasted%20image%2020240425174210.png)
ğŸ“Œajaxë„ post ë°©ì‹ìœ¼ë¡œ ì „ì†¡í•  ë•Œ ê´€ë ¨ ì´ìŠˆê°€ ìˆë‹¤.. ê·¸ ë¶€ë¶„ë„ ê³ ë ¤í•´ì•¼ í•œë‹¤.



## ì‹¤ìŠµ
![](../image/Pasted%20image%2020240426092620.png)
![](../image/Pasted%20image%2020240426093248.png)
ğŸ“Œdisable ê°’ì„ ì…ë ¥í•´ì„œ,, í˜„ì¬ íšŒì›ê°€ì…ì€ ì˜ ì‘ë™í•œë‹¤.



## Bean ìˆ˜ì •
![](../image/Pasted%20image%2020240426093401.png)
ğŸ“Œmember tableì„ ë§Œë“¤ ë•Œ auth ì»¬ëŸ¼ì— defaultë¥¼ ì£¼ëŠ” ê²ƒê³¼, ì§€ê¸ˆ Beanì— í”„ë¡œí¼í‹°ì— ì´ˆê¸°í™”ë¥¼ í•˜ê³  ì…ë ¥í•˜ëŠ” ê²ƒì— ê²‰ìœ¼ë¡œ ë³´ê¸°ì—ëŠ” ì°¨ì´ê°€ ì—†ë‹¤.
- ì´ë ‡ê²Œ Beanì„ êµ¬ì„±í•˜ë©´ í…Œì´ë¸” ë§Œë“¤ ë•Œ auth ì»¬ëŸ¼ì— default "ROLE_MEMBER"ë¥¼ ì£¼ì§€ ì•Šì•„ë„, ì´ˆê¸°í™”í•œ ê°’ì´ ìë™ìœ¼ë¡œ ì…ë ¥ëœë‹¤. (ì™œëƒí•˜ë©´ ì£¼ì…ëœ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ê·¸ ê°ì²´ëŠ” í•­ìƒ auth="ROLE_MEMBER"ë¡œ ì´ˆê¸°í™”ë˜ì–´ ìˆì„ í…Œë‹ˆê¹Œ...)


## mapper ìˆ˜ì •
![](../image/Pasted%20image%2020240426093700.png)



## íšŒì›ê°€ì…
![](../image/Pasted%20image%2020240426101505.png)
ğŸ“Œhttp.csrf disabled ì‚­ì œí•˜ê³  íšŒì›ê°€ì…ì„ ë‹¤ì‹œ í•´ë³´ë©´... 403 ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
ğŸ“Œmember_joinForm.jsp ì—ì„œ form íƒœê·¸ ì•ˆì— ì•„ë˜ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ë©´ íšŒì›ê°€ì…ì´ ì˜ ì‘ë™í•œë‹¤.
```HTML
 <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}">
```
![](../image/Pasted%20image%2020240426101702.png)



## ë¡œê·¸ì¸ì„ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì•„ë‹Œ securityê°€ í•  ìˆ˜ ìˆê²Œ ë°”ê¾¸ê¸°
### ë¡œê·¸ì¸ í›„ ìˆ˜í–‰í•  ì‘ì—…(LoginSuccessHandler)
![](../image/Pasted%20image%2020240426103701.png)


### ë¡œê·¸ì¸ ì‹¤íŒ¨ ìˆ˜í–‰í•  ì‘ì—…(LoginFailHandler)
![](../image/Pasted%20image%2020240426104354.png)



### ë¡œê·¸ì¸ í¼ ìˆ˜ì •
![](../image/Pasted%20image%2020240426110151.png)



### configuration
![](../image/Pasted%20image%2020240426110745.png)
![](../image/Pasted%20image%2020240426111553.png)
![](../image/Pasted%20image%2020240426112326.png)
ğŸ“Œë¡œê·¸ì¸ í•˜ë ¤ê³  í•˜ë©´ ë¡œê·¸ì— ìê²© ì¦ëª…ì— ì‹¤íŒ¨í•˜ê³  ï¼ ë¡œê·¸ì¸ ì‹¤íŒ¨ë¼ê³  ë‚˜ì˜¨ë‹¤. (DBì— ìˆëŠ” ë°ì´í„°ì™€ ë¹„êµí•´ì•¼ í•˜ëŠ”ë°, ì „ì†¡í•˜ëŠ” ë°ì´í„° vs DB ë°ì´í„°ë¥¼ ë¹„êµí•˜ëŠ” ì²˜ë¦¬ë¥¼ í•´ì£¼ì§€ ì•Šì•˜ë‹¤)


## ì´ë¡  ë³´ì¶©
![](../image/Pasted%20image%2020240426113357.png)
ğŸ“Œ(3) ê³¼ì •ì´ í•µì‹¬ì´ë‹¤.



## UserDetailsService ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
![](../image/Pasted%20image%2020240426114657.png)
![](../image/Pasted%20image%2020240426120606.png)
![](../image/Pasted%20image%2020240426121305.png)
ğŸ“Œlogë¥¼ ë³´ë©´, LoginSuccessHandlerê°€ ì‘ë™í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
ğŸ“Œê·¼ë° ë¡œê·¸ì¸ì„ í•˜ë©´, ê³„ì† login pageë¡œ ì´ë™í•œë‹¤..(headerì™€ ê´€ë ¨ë˜ì–´ ìˆì—ˆë‹¤. ë¡œê·¸ì¸í•˜ë©´ ì•„ì´ë””ë¥¼ sessionì— ë„£ëŠ”ë° / spring securityë¥¼ í™œìš©í•˜ë©´ì„œ,, sessionì— ë‹´ëŠ” actionì´ ì´ë¤„ì§€ì§€ ì•ŠìŒ)

## header ìˆ˜ì •
![](../image/Pasted%20image%2020240426122158.png)
ğŸ“Œ3 : security tag ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©ì„ìœ„í•œ ì„ ì–¸.
ğŸ“Œ10~11 : ajax í™œìš©ê³¼ ê´€ë ¨ ìˆìŒ.
ğŸ“Œ12~21 : ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ë„ spring securityì—ì„œ ìˆ˜í–‰í•˜ë„ë¡ í•˜ëŠ”ë°, ê·¸ê²ƒê³¼ ê´€ë ¨ë˜ì–´ ìˆìŒ. (form : postë°©ì‹)
![](../image/Pasted%20image%2020240426122823.png)
![](../image/Pasted%20image%2020240426124059.png)



## board_write.jsp / writeform.js ìˆ˜ì •
![](../image/Pasted%20image%2020240426141307.png)
ğŸ“Œadd actionì—ì„œ 403ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´,, inputì„ ì¶”ê°€í•´ì£¼ì!



## ajaxëŠ” ì–´ë–»ê²Œ?
![](../image/Pasted%20image%2020240426143144.png)
![](../image/Pasted%20image%2020240426143254.png)
![](../image/Pasted%20image%2020240426143719.png)
ğŸ“Œ38 : postë°©ì‹ì˜ ajaxì—ëŠ” beforeSend nameê³¼ valueë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.  



## view jsp ìˆ˜ì •

