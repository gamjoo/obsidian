## ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€
![](../image/Pasted%20image%2020240426171430.png)
### MemberController ìˆ˜ì •
![](../image/Pasted%20image%2020240426171952.png)
![](../image/Pasted%20image%2020240426172744.png)
ğŸ“Œë¡œê·¸ì¸ ìœ ì§€í•˜ê¸° ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´, ì´ë ‡ê²Œ í…Œì´ë¸”ì— ì •ë³´ë¥¼ ì¶”ê°€í•˜ì—¬ ê´€ë¦¬í•œë‹¤.

### config ì„¤ì •
![](../image/Pasted%20image%2020240426173835.png)
ğŸ“ŒDBì‘ì—…ì´ í•„ìš”í•´ì„œ DataSource ê°ì²´ë¥¼ í™œìš©í•œë‹¤.
ğŸ“ŒDataSource / CustomUserDetailsService ì¶”ê°€.
![](../image/Pasted%20image%2020240426173903.png)
![](../image/Pasted%20image%2020240426174444.png)
ğŸ“Œë¡œê·¸ì¸ ìœ ì§€í•˜ê¸°ë¥¼ ì²´í¬í•˜ê³  ì›¹ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí–ˆë‹¤ê°€ í‚¨ í›„ -> contextê²½ë¡œë¡œ ì ‘ì†í•´ë³´ë©´ ë°”ë¡œ board/listë¡œ ì´ë™í•œë‹¤(securityì˜ LoginSuccessHandler). ê·¸ë¦¬ê³  DBì— ê°€ë³´ë©´ PERSISTENT_LOGINS í…Œì´ë¸”ì— (ìë™ ë¡œê·¸ì¸ ê´€ë ¨ ë°ì´í„°) USERNAME / SERIES / TOKEN / LAST_USED ì»¬ëŸ¼ì— ë°ì´í„°ê°€ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
- ë¡œê·¸ì•„ì›ƒí•˜ë©´ invalidateHttpSession / deleteCookies ë©”ì†Œë“œ ë“±ì„ í†µí•´ ì €ì¥ëœ ì •ë³´ê°€ ì œê±°ëœë‹¤.
![](../image/Pasted%20image%2020240429093256.png)


## ê¶Œí•œ ì„¤ì •
![](../image/Pasted%20image%2020240429094108.png)
![](../image/Pasted%20image%2020240429093900.png)
ğŸ“Œì¼ë°˜ ê³„ì •(auth ì»¬ëŸ¼ ê°’ì´ "ROLE_MEMBER" ì¸ ê²½ìš°) íšŒì› ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” member/list í˜ì´ì§€ëŠ” ì ‘ì†í•˜ì§€ ëª»í•˜ê²Œ í•´ì•¼ í•œë‹¤.
ğŸ“Œìœ„ ì½”ë“œë¥¼ ì…ë ¥í›„ ì¼ë°˜ ê³„ì •(auth = "ROLE_MEMBER")ìœ¼ë¡œ member/list ì— ì ‘ì†í•˜ë©´ 403ì—ëŸ¬ í˜ì´ì§€ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.


## 403í˜ì´ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§• (deniedhandler)
![](../image/Pasted%20image%2020240429102101.png)
### config handlerì— ì¶”ê°€í•œë‹¤
![](../image/Pasted%20image%2020240429103125.png)
![](../image/Pasted%20image%2020240429103706.png)
![](../image/Pasted%20image%2020240429104934.png)



## íšŒì› ì •ë³´ ìˆ˜ì •(Principal ê°ì²´ í™œìš©)
### controller ìˆ˜ì •
![](../image/Pasted%20image%2020240429105101.png)
ğŸ“Œspring securityë¥¼ í™œìš©í•˜ë©´ idì— ê´€í•œ ì •ë³´ëŠ” sessionì´ ì•„ë‹ˆë¼ principal ê°ì²´ì—ì„œ getName() ë©”ì†Œë“œë¥¼ í†µí•´ ê°€ì ¸ì˜¨ë‹¤.




# íƒ€ì„ë¦¬í”„(Thymeleaf)
ğŸ“Œ https://www.thymeleaf.org/
ğŸ“Œviewí˜ì´ì§€ë¥¼ .. jspê°€ ì•„ë‹Œ thymeleaf(í…œí”Œë¦¿ ì—”ì§„)ë¥¼ í†µí•´ì„œ ë§Œë“ ë‹¤.
![](../image/Pasted%20image%2020240429113323.png)


## properties ì„¤ì •
![](../image/Pasted%20image%2020240429113839.png)
ğŸ“ŒJSPì™€ ë‹¬ë¦¬ í™•ì¥ìê°€ .htmlë¡œ ëë‚œë‹¤.
ğŸ“Œê°œë°œí™˜ê²½ì—ì„œ cacheëŠ” falseë¡œ ë‘”ë‹¤. ë°”ë€ ë‚´ìš©ì„ ë°”ë¡œë°”ë¡œ ì ìš©í•´ì„œ ë¹¨ë¦¬ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ.


## ì‹¤ìŠµ1
### controller
![](../image/Pasted%20image%2020240429114544.png)
### sample1.html
![](../image/Pasted%20image%2020240429120313.png)
![](../image/Pasted%20image%2020240429121200.png)
![](../image/Pasted%20image%2020240429123913.png)
![](../image/Pasted%20image%2020240429123939.png)




## ì‹¤ìŠµ2
![](../image/Pasted%20image%2020240429124459.png)
https://jbground.tistory.com/40 (Thymeleaf ìœ í‹¸í•¨ìˆ˜ ëª¨ìŒ)
![](../image/Pasted%20image%2020240429140105.png)
![](../image/Pasted%20image%2020240429140825.png)
![](../image/Pasted%20image%2020240429141328.png)



## ì‹¤ìŠµ3 (ë¦¬ìŠ¤íŠ¸ ì¶œë ¥)
### each
![](../image/Pasted%20image%2020240429142508.png)
![](../image/Pasted%20image%2020240429143441.png)
![](../image/Pasted%20image%2020240429143500.png)

### list2
![](../image/Pasted%20image%2020240429144603.png)
![](../image/Pasted%20image%2020240429145008.png)
![](../image/Pasted%20image%2020240429150130.png)

![](../image/Pasted%20image%2020240429151540.png)

![](../image/Pasted%20image%2020240429152339.png)


##  block í™œìš©
![](../image/Pasted%20image%2020240429153301.png)


## link
![](../image/Pasted%20image%2020240429154006.png)
![](../image/Pasted%20image%2020240429154304.png)
