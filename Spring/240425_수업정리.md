# ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ (2)
## ê²Œì‹œê¸€ ëª©ë¡ í™”ë©´ì—ì„œ ëŒ“ê¸€ ìˆ˜ ë³´ì—¬ì£¼ê¸°
ğŸ“Œí”„ë¡œí¼í‹°ì— í•´ë‹¹ ê²Œì‹œê¸€ì˜ ì´ ëŒ“ê¸€ ìˆ˜ë¥¼ ì˜ë¯¸í•˜ëŠ” CNTë¥¼ ì¶”ê°€í•˜ê³ , boardlist ì „ë‹¬í•  ë•Œ CNTë„ ì „ë‹¬í•˜ë„ë¡ í•œë‹¤. -> comments í…Œì´ë¸”ê³¼ join í•´ì•¼í•œë‹¤.
- board.setCNT("") /  request.getParameter("")~~ ì´ëŸ° ì‹ì˜ ì½”ë“œëŠ” ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ë˜ë‹ˆ í¸í•˜ë‹¤..
![](../image/Pasted%20image%2020240424173711.png)
![](../image/Pasted%20image%2020240425090842.png)
![](../image/Pasted%20image%2020240425091249.png)
ğŸ“Œpropertyë¥¼ ì˜ ê°€ì ¸ì˜¤ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , http://localhost:9500/myhome5/board/list_ajax ì´ ë§í¬ë¡œ ë“¤ì–´ê°€ì„œ json í˜•ì‹ìœ¼ë¡œ ì–´ë–¤ ë°ì´í„°ê°€ ì˜¤ê³  ìˆëŠ”ì§€ í™•ì¸í•´ë³´ëŠ” ê²ƒë„ ê¼­ í•˜ì.



## ì²¨ë¶€íŒŒì¼ ì €ì¥ ê²½ë¡œ ìˆ˜ì •
### BoardController
![](../image/Pasted%20image%2020240425094016.png)
ğŸ“Œ@Value ë¥¼ í†µí•´ ê°’ì„ ì£¼ì…í•œë‹¤.
![](../image/Pasted%20image%2020240425094251.png)
![](../image/Pasted%20image%2020240425094706.png)
![](../image/Pasted%20image%2020240425094648.png)
ğŸ“Œadd / modifyaction / down ì— ìˆëŠ” saveFolder ê²½ë¡œë¥¼ ìˆ˜ì •í•œë‹¤.



## ì²¨ë¶€íŒŒì¼ ê´€ë¦¬
### ì²¨ë¶€íŒŒì¼ ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ìƒí™©
![](../image/Pasted%20image%2020240425100817.png)
ğŸ“Œë…¸ë€ ë°°ê²½ìƒ‰ ë¶€ë¶„ì€ íŠ¸ë¦¬ê±°ë¥¼ í™œìš©í•´ ë°ì´í„°ë¥¼ ê´€ë¦¬í•´ì•¼ í•  ìƒí™©ë“¤ì´ë‹¤. 
ğŸ“Œì‚­ì œ ì‘ì—…ì€ ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ í™œìš©í•´ì„œ íŠ¸ë˜í”½ì´ ì ì€ í•œê°€í•œ ì‹œê°„ì— ì§„í–‰í•œë‹¤.


### ìƒí™©ì„ ê·¼ê±°ë¡œ í…Œì´ë¸” ë° íŠ¸ë¦¬ê±° ìƒì„±
![](../image/Pasted%20image%2020240425102436.png)


### ì‚­ì œë¥¼ ìˆ˜í–‰í•˜ëŠ” @Service í´ë˜ìŠ¤(@Scheduled í™œìš©)
![](../image/Pasted%20image%2020240425110111.png)
ğŸ“ŒìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì‘ë™í•˜ë ¤ë©´, main ë©”ì†Œë“œê°€ ìˆëŠ” ê³³ì—ì„œ @EnableScheduling ì• ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.
![](../image/Pasted%20image%2020240425110410.png)
ğŸ“Œ39, 41 : ê´€ë ¨ëœ serviceë¥¼ ì¶”ê°€í•œë‹¤.
![](../image/Pasted%20image%2020240425111334.png)


### service / mapper / xml
![](../image/Pasted%20image%2020240425112309.png)
![](../image/Pasted%20image%2020240425112725.png)
![](../image/Pasted%20image%2020240425113344.png)
ğŸ“Œ@Scheduled(cron="10 * * * * \*") ì£¼ì„ì„ í’€ê³  ë¶€íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´, ìœ„ì™€ ê°™ì€ ë¡œê·¸ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ì‹œìŠ¤í…œ ì‹œê³„ë¡œ 10ì´ˆê°€ ë  ë•Œë§ˆë‹¤ í´ë”ì—ì„œ íŒŒì¼ì„ ì‚­ì œí•˜ê³ , DBì—ì„œ í•´ë‹¹ ë ˆì½”ë“œë¥¼ ì‚­ì œí•œë‹¤.



# AOP (Aspect Oriented Programming)
## AOP ì“°ì§€ ì•Šê³  ê³µí†µ ê¸°ëŠ¥ ìˆ˜í–‰ í•´ë³´ê¸°
![](../image/Pasted%20image%2020240425114814.png)
![](../image/Pasted%20image%2020240425121240.png)
ğŸ“Œí…ŒìŠ¤íŠ¸ ê°ì²´ë¥¼ ì£¼ì…í•œ í›„ì—, ì›í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ê³µí†µ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. AOPë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ê³µí†µëœ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ì´ëŸ° ë…¼ë¦¬ë¡œ ì§„í–‰í•œë‹¤.


## AOPì •ë¦¬
![](../image/Pasted%20image%2020240425123259.png)
![](../image/Pasted%20image%2020240425124452.png)
![](../image/Pasted%20image%2020240425140553.png)
![](../image/Pasted%20image%2020240425141309.png)
![](../image/Pasted%20image%2020240425142133.png)


## dependency ì¶”ê°€
![](../image/Pasted%20image%2020240425142700.png)


## AfterAdvice.java
![](../image/Pasted%20image%2020240425142752.png)
![](../image/Pasted%20image%2020240425143624.png)
![](../image/Pasted%20image%2020240425144435.png)



## BeforeAdvice.java
![](../image/Pasted%20image%2020240425150352.png)



## @Around
### ì˜ˆì œ1
![](../image/Pasted%20image%2020240425151918.png)
![](../image/Pasted%20image%2020240425151950.png)

### ì˜ˆì œ2_ë©”ì†Œë“œ ìˆ˜í–‰ì‹œê°„ ì¸¡ì •
![](../image/Pasted%20image%2020240425152340.png)
![](../image/Pasted%20image%2020240425153123.png)
![](../image/Pasted%20image%2020240425153848.png)
![](../image/Pasted%20image%2020240425155031.png)
![](../image/Pasted%20image%2020240425154938.png)



## @AfterReturning
![](../image/Pasted%20image%2020240425160911.png)



## @AfterThrowing
![](../image/Pasted%20image%2020240425161914.png)
### ì˜ˆì™¸ê°€ ë°œìƒí•˜ë„ë¡ ì¡°ì‘í•œë‹¤
![](../image/Pasted%20image%2020240425162607.png)
![](../image/Pasted%20image%2020240425163341.png)



## Transaction
![](../image/Pasted%20image%2020240425163918.png)
![](../image/Pasted%20image%2020240425163934.png)
![](../image/Pasted%20image%2020240425164157.png)

### properties ìˆ˜ì •
![](../image/Pasted%20image%2020240425164211.png)
ğŸ“Œlogging.level.root=debug ì¶”ê°€.

### ì—ëŸ¬ ë°œìƒì‹œí‚¤ê³  ë¡œê·¸ í™•ì¸
![](../image/Pasted%20image%2020240425164401.png)
ğŸ“ŒTransaction ê³¼ì •ì—ì„œ ì—ëŸ¬ ë°œìƒí•˜ë©´ ì‹¤ì œë¡œ rollbackì´ ë˜ëŠ”ì§€ë¥¼ í™•ì¸í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤!


### ì—ëŸ¬ ì œê±°í•˜ê³  ë¡œê·¸ í™•ì¸
![](../image/Pasted%20image%2020240425165239.png)
ğŸ“ŒInitiating transaction commit ë©”ì‹œì§€ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.



# Security
![](../image/Pasted%20image%2020240425171208.png)
ğŸ“Œdependency ì¶”ê°€.
![](../image/Pasted%20image%2020240425171402.png)
ğŸ“Œì´ëŸ° ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
![](../image/Pasted%20image%2020240425171436.png)
ğŸ“Œpropertiesì— ì´ê²ƒë§Œ ì¶”ê°€í•œë‹¤.
![](../image/Pasted%20image%2020240425171634.png)
ğŸ“Œcontext ê²½ë¡œë¥¼ ì…ë ¥í•˜ë©´.. ë§µí•‘í•˜ì§€ë„ ì•Šì€ loginí˜ì´ì§€ë¡œ ì´ë™í•œë‹¤..
![](../image/Pasted%20image%2020240425171913.png)
ğŸ“Œì´ˆê¸°ì— ì´ë ‡ê²Œ ì…ë ¥í•˜ë©´ ì ‘ì†ì´ ëœë‹¤.
- id : user 
- password : ìŠ¤í”„ë§ë¶€íŠ¸ ì‹¤í–‰í•˜ë©´, `Using generated security password: 18533b2f-ec9b-42de-a660-978efee9a6bc` ì´ëŸ° ì‹ìœ¼ë¡œ ì•Œë ¤ì¤€ë‹¤. 
![](../image/Pasted%20image%2020240425171944.png)
ğŸ“Œì´ëŸ° í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.
![](../image/Pasted%20image%2020240425171958.png)
ğŸ“Œconfig í•´ì¤˜ì•¼ ì˜ë„í•œ login í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.


## ì‹œíë¦¬í‹° ì´ë¡  ìƒì‹
![](../image/Pasted%20image%2020240425172526.png)
![](../image/Pasted%20image%2020240425172858.png)
ğŸ“Œadminì´ ì•„ë‹Œë°ë„ ,, ì ‘ì† ì£¼ì†Œë¥¼ ì•Œê²Œë˜ë©´ admin ë³¼ ìˆ˜ ìˆê²Œ ì„¤ê³„ëœ í˜ì´ì§€ë¥¼ ë³¼ ìˆ˜ ìˆê²Œ ëœë‹¤... ì´ìƒí•˜ë‹¤!! (ì¸ê°€ì™€ ê´€ë ¨ëœ ì´ìŠˆ)
ğŸ“Œ403 error : forbidden.
![](../image/Pasted%20image%2020240425173559.png)
![](../image/Pasted%20image%2020240425174210.png)
ğŸ“Œajaxë„ post ë°©ì‹ìœ¼ë¡œ ì „ì†¡í•  ë•Œ ê´€ë ¨ ì´ìŠˆê°€ ìˆë‹¤.. ê·¸ ë¶€ë¶„ë„ ê³ ë ¤í•´ì•¼ í•œë‹¤.