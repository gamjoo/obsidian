![[240118_과제.txt]]
240117_과제 7번문제 ANSI JOIN 양식으로 바꾸기
## ANSI JOIN

^d98f53

![[Pasted image 20240206084146.png]]
★필요한 정보가 어디 있는지 먼저 봐야하고, 필요하다면 그림 그려서 구조를 이해한다. 이 과정에서 셀프 조인 아이디어를 떠올랐어야 한다.
- 관점을 달리하면, 한 테이블 안에서 SELF JOIN으로 추출할 수 있다.
- R_CONSTRAINT_NAME 부모에 대한 정보가 있다
- 3가지 테이블을 조인하면 3\*3\*3. 여기서 필요한 정보만 출력할 수 있도록 JOIN 조건을 설정한다
![[Pasted image 20240206084610.png]]
SELECT CHILD.TABLE_NAME “자식테이블”, UC.CONSTRAINT_NAME “외래키”, PARENT.TABLE_NAME “부모테이블”, UC.R_CONSTRAINT_NAME “부모키”
from USER_CONSTRAINTS UC, USER_CONS_COLUMNS PARENT, USER_CONS_COLUMNS CHILD
 -(관점을 다르게 하면 selfjoin할 수 있다)
where UC.CONSTRAINT_NAME=CHILD.CONSTRAINT_NAME
AND UC.R_CONSTRAINT_NAME=PARENT.CONSTRAINT_NAME
SELECT TABLE_NAME, CONSTRAINT_NAME, CONSTRAINT_TYPE, R_CONSTRAINT_NAME, SEARCH_CONDITION							
FROM USER_CONSTRAINTS							
WHERE TABLE_NAME IN('EMP','DEPT')

SELECT *			
FROM USER_CONS_COLUMNS			
WHERE TABLE_NAME IN('EMP','DEPT')

COL "자식테이블" FORMAT A20
COL "외래키" FORMAT A20
COL "부모테이블" FORMAT A20
COL "부모키" FORMAT A20

SELECT CHILD.TABLE_NAME “자식테이블”, CHILD.COLUMN_NAME “외래키”, PARENT.TABLE_NAME “부모테이블”, PARENT.COLUMN_NAME “부모키”
from USER_CONSTRAINTS UC, USER_CONS_COLUMNS PARENT, USER_CONS_COLUMNS CHILD
where UC.CONSTRAINT_NAME=CHILD.CONSTRAINT_NAME
AND UC.R_CONSTRAINT_NAME=PARENT.CONSTRAINT_NAME

==이 문제를 못 푼 이유 : SELFJOIN 개념을 확실히 해두지 않았기 때문이다.==